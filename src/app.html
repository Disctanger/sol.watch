<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>SolWatch. GeoPosition-based Sun Clock</title>
	<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta name="description" content="Sol Watch is a Sun clock that calculates the solar phases depending of your current geographical coordinates" />
	<meta name="keywords" content="sun, clock, sol, watch, sunrise, sunset, daylight, night, twilight, sunup, sundown" />
	<meta name="author" content="Jorge Moreno aka moro, moro.es (@alterebro)" />
	<meta name="MobileOptimized" content="width" />
	<meta name="viewport" content="width=device-width, minimum-scale=1, maximum-scale=1, initial-scale=1, shrink-to-fit=no" />
    <meta name="robots" content="index, follow" />
	<meta name="google" content="notranslate" />

	<meta name="twitter:title" property="og:title" itemprop="title name" content="SolWatch. GeoPosition-based Sun Clock" />
	<meta name="twitter:description" property="og:description" itemprop="description" content="Sol Watch is a Sun clock that calculates the solar phases depending of your current geographical coordinates" />
	<meta name="twitter:image" property="og:image" itemprop="image" content="https://alterebro.github.io/sol.watch/assets/images/sol-watch.jpg" />
	<meta name="twitter:url" property="og:url" itemprop="url" content="https://alterebro.github.io/sol.watch/" />
	<meta property="og:type" content="website" />
	<meta property="fb:admins" content="636040175" />
	<meta property="article:author" content="https://www.facebook.com/alterebro" />
	<meta property="article:publisher" content="https://www.facebook.com/alterebro" />
	<meta name="twitter:card" content="summary_large_image" />
	<meta name="twitter:site" content="@alterebro" />
	<meta name="twitter:creator" content="@alterebro" />

	<meta name="mobile-web-app-capable" content="yes" />
	<meta name="theme-color" content="#222222" />
	<meta name="msapplication-navbutton-color" content="#222222" />
	<meta name="msapplication-TileImage" content="assets/images/favicon.png" />
	<meta name="msapplication-TileColor" content="#222222" />
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
	<meta name="apple-mobile-web-app-title" content="SolWatch. GeoPosition-based Sun Clock" />

	<link rel="me" href="https://twitter.com/alterebro" />
	<link rel="icon" href="assets/images/favicon.ico" />
	<link rel="icon" sizes="256x256" href="assets/images/favicon.png" />
	<link rel="apple-touch-icon" href="assets/images/favicon.png" />
	<link href="https://fonts.googleapis.com/css?family=Oswald:300,400,700" rel="stylesheet" />
</head>
<body>

<div id="app" :class="current_class" v-cloak>

	<div id="switch" :class="{ opened : show_sidebar }">
		<a @click="sidebar">&equiv;</a>
	</div>

	<div id="sidebar" :class="{ opened : show_sidebar }">
		<div id="sidebar-background"></div>
		<div id="sidebar-content" :class="current_class">
			<div class="sidebar-text">
				<h1>SolWatch. GeoPosition-based Sun Clock</h1>
				<p>
					<strong>Sol Watch</strong> is a Sun clock that calculates the solar
					phases depending of your current geographical coordinates.
				</p>

				<h2>Current Location</h2>
				<ul>
					<li>Latitude: <strong>{{ geoposition.latitude }}</strong></li>
					<li>Longitude: <strong>{{ geoposition.longitude }}</strong></li>
					<li>Location: <strong>{{ geoposition.location }}</strong></li>
				</ul>
				<p>
					<button @click="forceGeoPosition">Force GeoLocation Request</button>
				</p>

				<p id="credits">
					by: <strong><a href="http://moro.es" target="_blank" title="Front End Web Developer and UI Designer">Jorge Moreno aka Moro</a></strong>.
					(<strong><a href="https://twitter.com/alterebro" target="_blank" title="Jorge Moreno">@alterebro</a></strong>)
				</p>
			</div>
		</div>
	</div>

	<div id="loader" :class="{ loaded : app_ready }">
		<div id="loader-background"></div>
		<div id="loader-spin"></div>
	</div>


	<div id="clock" v-if="app_ready">
		<div id="clock-stg">{{ now.degrees | leading_zeros }}&deg;</div>
		<div id="clock-txt">
			<span id="clock-txt-num">{{ current_stage.to - now.degrees | leading_zeros }}</span>
			<span id="clock-txt-deg">&deg;</span>
			<span id="clock-txt-rest">.{{ 360 - now.rest | leading_zeros }}</span>
			<span id="clock-txt-before">before</span>
			<span id="clock-txt-next">{{ current_stage.end | eventize }}</span>
		</div>
		<svg v-if="current_stage" :width="config.svg_size" :height="config.svg_size" xmlns="http://www.w3.org/2000/svg">
			<defs>
				<mask id="rest-clip">
					<circle :cx="config.svg_size/2" :cy="config.svg_size/2" :r="(config.svg_size/2)" fill="#fff" />
					<circle :cx="config.svg_size/2" :cy="config.svg_size/2" :r="(config.svg_size/2)-4" />
					<rect v-for="n in 180" :x="(config.svg_size/2)-1" :y="0" :width="2" :height="config.svg_size" :transform="rot((n-1)*1)"></rect>
				</mask>
				<mask id="circle-clip">
					<rect :width="config.svg_size" :height="config.svg_size" fill="white"></rect>
					<circle :cx="config.svg_size/2" :cy="config.svg_size/2" :r="(config.svg_size/2)-70" />
				</mask>
			</defs>
			<g mask="url(#rest-clip)">
				<circle :cx="config.svg_size/2" :cy="config.svg_size/2" :r="(config.svg_size/2)" fill="#000" />
				<path :d="arc(360-now.rest, 360, 5)" fill="#fff" />
			</g>
			<g :style="{ 'transform': 'rotate('+(-now.degrees)+'deg)', 'transform-origin': (config.svg_size/2)+'px '+ (config.svg_size/2)+'px'}">
				<g mask="url(#circle-clip)">
					<path :d="arc(stages.night_m.from, stages.night_m.to, -20)" fill="#000" />
					<path :d="arc(stages.night_e.from, stages.night_e.to, -20)" fill="#000" />

					<path :d="arc(stages.twilight_m.from, stages.twilight_m.to, -20)" fill="#fff" opacity="0.5" />
					<path :d="arc(stages.twilight_e.from, stages.twilight_e.to, -20)" fill="#fff" opacity="0.5" />

					<path :d="arc(stages.day_m.from, stages.day_m.to, -20)" fill="#fff" />
					<path :d="arc(stages.day_e.from, stages.day_e.to, -20)" fill="#fff" />
				</g>
				<g>
					<rect :x="(config.svg_size/2)" :y="20" :width="1" :height="50" fill="#fff" opacity=".25"></rect>
					<rect :x="(config.svg_size/2)" :y="config.svg_size-70" :width="1" :height="50" fill="#000" opacity=".25"></rect>
				</g>
			</g>
			<g opacity=".5">
				<rect :x="(config.svg_size/2)-1" :y="0" :width="1" :height="90" fill="#fff" id="clock-indicator-long"></rect>
				<rect :x="(config.svg_size/2)-1" :y="20" :width="1" :height="50" fill="#000" id="clock-indicator-short"></rect>
			</g>
		</svg>
	</div>
</div>

</body>
</html>
